{"ast":null,"code":"import _objectSpread from \"/Users/torkildjurhuus/Code/Pixelbrain_tetris/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/torkildjurhuus/Code/Pixelbrain_tetris/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/torkildjurhuus/Code/Pixelbrain_tetris/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/torkildjurhuus/Code/Pixelbrain_tetris/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/torkildjurhuus/Code/Pixelbrain_tetris/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/torkildjurhuus/Code/Pixelbrain_tetris/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/torkildjurhuus/Code/Pixelbrain_tetris/src/BackgroundManager/Background.js\";\nimport React, { Component } from \"react\";\nimport { WithResources } from \"../Resource Manager/HOC/WithResources\";\nimport Timer from \"./../Timer/Timer\";\n\nvar Background =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Background, _Component);\n\n  function Background(props) {\n    var _this;\n\n    _classCallCheck(this, Background);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Background).call(this, props));\n    _this.second = false;\n\n    _this.gameLoop = function () {\n      _this.setState({\n        counter: _this.state.counter + _this.state.speed,\n        styleImg: _objectSpread({}, _this.state.styleImg, {\n          backgroundPosition: _this.state.counter // backgroundPosition: this.state.counter\n\n        })\n      });\n    };\n\n    _this.state = {\n      speed: props.speed,\n      counter: 0,\n      imagesource: \"\",\n      styleImg: {\n        height: \"100%\",\n        width: \"100%\",\n        backgroundImage: \"url(\" + props.resourceManager.getImage(props.imagesource),\n        backgroundRepeat: \"repeat-x\",\n        position: \"absolute\",\n        zIndex: props.zindex,\n        overflow: \"hidden\"\n      }\n    };\n    return _this;\n  }\n\n  _createClass(Background, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      Timer.instance.subscribe(function () {\n        //   this.second = !this.second;\n        //   if (this.second)\n        _this2.gameLoop();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        style: this.state.styleImg,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Background;\n}(Component);\n\nexport default WithResources(Background);","map":{"version":3,"sources":["/Users/torkildjurhuus/Code/Pixelbrain_tetris/src/BackgroundManager/Background.js"],"names":["React","Component","WithResources","Timer","Background","props","second","gameLoop","setState","counter","state","speed","styleImg","backgroundPosition","imagesource","height","width","backgroundImage","resourceManager","getImage","backgroundRepeat","position","zIndex","zindex","overflow","instance","subscribe"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,aAAT,QAA8B,uCAA9B;AACA,OAAOC,KAAP,MAAkB,kBAAlB;;IACMC,U;;;;;AACJ,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,oFAAMA,KAAN;AADiB,UAoBnBC,MApBmB,GAoBV,KApBU;;AAAA,UA6BnBC,QA7BmB,GA6BR,YAAM;AACf,YAAKC,QAAL,CAAc;AACZC,QAAAA,OAAO,EAAE,MAAKC,KAAL,CAAWD,OAAX,GAAqB,MAAKC,KAAL,CAAWC,KAD7B;AAEZC,QAAAA,QAAQ,oBACH,MAAKF,KAAL,CAAWE,QADR;AAENC,UAAAA,kBAAkB,EAAE,MAAKH,KAAL,CAAWD,OAFzB,CAGN;;AAHM;AAFI,OAAd;AAQD,KAtCkB;;AAGjB,UAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAEN,KAAK,CAACM,KADF;AAEXF,MAAAA,OAAO,EAAE,CAFE;AAGXK,MAAAA,WAAW,EAAE,EAHF;AAIXF,MAAAA,QAAQ,EAAE;AACRG,QAAAA,MAAM,EAAE,MADA;AAERC,QAAAA,KAAK,EAAE,MAFC;AAGRC,QAAAA,eAAe,EACb,SAASZ,KAAK,CAACa,eAAN,CAAsBC,QAAtB,CAA+Bd,KAAK,CAACS,WAArC,CAJH;AAKRM,QAAAA,gBAAgB,EAAE,UALV;AAMRC,QAAAA,QAAQ,EAAE,UANF;AAORC,QAAAA,MAAM,EAAEjB,KAAK,CAACkB,MAPN;AAQRC,QAAAA,QAAQ,EAAE;AARF;AAJC,KAAb;AAHiB;AAkBlB;;;;wCAGmB;AAAA;;AAClBrB,MAAAA,KAAK,CAACsB,QAAN,CAAeC,SAAf,CAAyB,YAAM;AAC7B;AACA;AACA,QAAA,MAAI,CAACnB,QAAL;AACD,OAJD;AAKD;;;6BAaQ;AACP,aAAO;AAAK,QAAA,KAAK,EAAE,KAAKG,KAAL,CAAWE,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;;;;EA3CsBX,S;;AA6CzB,eAAeC,aAAa,CAACE,UAAD,CAA5B","sourcesContent":["import React, { Component } from \"react\";\nimport { WithResources } from \"../Resource Manager/HOC/WithResources\";\nimport Timer from \"./../Timer/Timer\";\nclass Background extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      speed: props.speed,\n      counter: 0,\n      imagesource: \"\",\n      styleImg: {\n        height: \"100%\",\n        width: \"100%\",\n        backgroundImage:\n          \"url(\" + props.resourceManager.getImage(props.imagesource),\n        backgroundRepeat: \"repeat-x\",\n        position: \"absolute\",\n        zIndex: props.zindex,\n        overflow: \"hidden\"\n      }\n    };\n  }\n\n  second = false;\n  componentDidMount() {\n    Timer.instance.subscribe(() => {\n      //   this.second = !this.second;\n      //   if (this.second)\n      this.gameLoop();\n    });\n  }\n\n  gameLoop = () => {\n    this.setState({\n      counter: this.state.counter + this.state.speed,\n      styleImg: {\n        ...this.state.styleImg,\n        backgroundPosition: this.state.counter\n        // backgroundPosition: this.state.counter\n      }\n    });\n  };\n\n  render() {\n    return <div style={this.state.styleImg} />;\n  }\n}\nexport default WithResources(Background);\n"]},"metadata":{},"sourceType":"module"}